<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
    <title>AI/gemini_api</title>
  </head>
  <body>
    <textarea id="textarea">Hello</textarea>
    <input type="button" onclick="Click();" value="Send">
    <script>
      var socket = io();
      let room = localStorage.getItem('room');
      let id = localStorage.getItem('id');
      socket.on('sc_gemini_api', function(data) {
        if(data.room == room && data.id == id){
          alert(data.gen);
        }
        //socket.on('to_room_enter',function(msg) {
          //enter_list = msg.msg;
        //});
        //socket.emit('disconnect_fighters',{data:'leave'});
      });
      function Click(){
        socket.emit('cs_gemini_api',{room:room,id:id,text:document.getElementById('textarea').value});
      }
    </script>
  </body>
</html>
