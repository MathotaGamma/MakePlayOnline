{% extends "base.html" %}
{% block title %}Test{% endblock %}
{% block head %}
<style>
  * {
    margin: 10px;
    padding: 5px;
  }
  .num {
    wodth: 5%;
  }
  .word {
    width: 25%;
  }
  .ans {
    width: 70%;
  }
</style>
{% endblock %}
{% block body %}
<table id="table" border="1">
  <tr><th class="num">番号</th><th class="word">単語</th><th class="ans">解答欄</th></tr>
</table>
<script>
  let table = document.getElementById('table');
  //table.appendChild('<
 //現在スタックされているデータをCSVに変換してダウンロードする
function create_csv(){

    //文字列型で二次元配列のデータ
    data = [ ["A","B","C"],
             ["A1","B1","C1"],
             ["A2","B2","C2"],
             ["A3","B3","C3"],
             ["A4","B4","C4"],
            ]

    alert(data);

    //作った二次元配列をCSV文字列に直す。
    let csv_string  = ""; 
    for (let d of data) {
        csv_string += d.join(",");
        csv_string += '\r\n';
    }   

    //ファイル名の指定
    let file_name   = "test.csv";

    //CSVのバイナリデータを作る
    let blob        = new Blob([csv_string], {type: "text/csv"});
    let url         = URL.createObjectURL(blob);

    //リンクタグを作る
    let link        = document.createElement("a");
    link.download   = file_name;
    link.href       = url;

    //作ったリンクタグをクリックさせる
    document.body.appendChild(link);
    alert(url);

}

</script>
{% endblock %}
