<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <link rel="icon" href="{{url_for('static',filename='favicon.ico')}}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{url_for('static',filename='apple-touch-icon.png')}}">
    <script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
    <title>MPGinW:Battle/Stay</title>
  </head>
  <body>
    <div id="text">Room番号:</div>
    <ul>
      <li><a href="./Touch/home">連打</a></li>
      <li><a href="./Pinball/home">ピンボール</a></li>
    </ul>
    <script>
      let room = localStorage.getItem('room');
      if(room == null) window.location.href="./home";
      document.getElementById('text').innerText = 'Room番号:'+room;

      //socketオブジェクト生成
      let socket = io();
      //サーバとのコネクション確立
      /*socket.on('connect', function() {
        socket.emit('server_echo', {data: 'client connected!'});
      });*/


      //サーバからのメッセージを出力する関数
      socket.on('cs_room_connect', function(data) {
        alert("echo: " + data.msg);
      });
    </script>
  </body>
</html>
